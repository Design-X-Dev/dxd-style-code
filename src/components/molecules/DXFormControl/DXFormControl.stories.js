import DXFormControl from './DXFormControl.vue';
import { ref } from 'vue';

export default {
  title: 'Molecules/DXFormControl',
  component: DXFormControl,
  tags: ['autodocs', 'status:ready'],
  parameters: {
    docs: {
      description: {
        component: `
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** ðŸŸ¢ Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ

ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð¾Ð±ÐµÑ€Ñ‚ÐºÐ¸ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ¹ Ñ„Ð¾Ñ€Ð¼ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ Ð»ÐµÐ¹Ð±Ð»Ð°, Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸, Ð¸ÐºÐ¾Ð½Ð¾Ðº Ð¸ ÑÑ‡ÐµÑ‚Ñ‡Ð¸ÐºÐ° ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð².

## ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ

DXFormControl Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÐºÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½ÑƒÑŽ Ð¾Ð±ÐµÑ€Ñ‚ÐºÑƒ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ¹ Ñ„Ð¾Ñ€Ð¼, Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑ Ð»ÐµÐ¹Ð±Ð», Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð°,
Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸, ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ… Ð¸ Ð²ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð² ÐµÐ´Ð¸Ð½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚. ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚
Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ð°Ð¼Ð¸ Ð´Ð»Ñ Ð¸ÐºÐ¾Ð½Ð¾Ðº.

## ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚
- \`DXText\` - Ð´Ð»Ñ Ð»ÐµÐ¹Ð±Ð»Ð°, Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸ Ð²ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð°
- \`DXIcon\` - Ð´Ð»Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¸-Ð¿Ñ€ÐµÑ„Ð¸ÐºÑÐ°
- \`DXValidationIcon\` - Ð´Ð»Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ (ÑƒÑÐ¿ÐµÑ…/Ð¾ÑˆÐ¸Ð±ÐºÐ°)

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð²
- ÐžÐ±ÐµÑ€Ñ‚ÐºÐ° Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹ Ñ„Ð¾Ñ€Ð¼
- ÐšÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ð²Ð²Ð¾Ð´Ð°
- Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¼Ð¸ input ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸
- Ð›ÑŽÐ±Ñ‹Ðµ Ð¼ÐµÑÑ‚Ð°, Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ð¾Ð»Ð½ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¿Ð¾Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ñ‹

## Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð»Ð¾Ð³Ð¸ÐºÐ°

### Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÑÐ¾ÑÑ‚Ð¾Ð¸Ñ‚ Ð¸Ð·:
1. **Ð›ÐµÐ¹Ð±Ð»** - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð½Ð°Ð´ Ð¿Ð¾Ð»ÐµÐ¼ (ÐµÑÐ»Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½ \`label\`)
2. **Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²** - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð»ÐµÐ¹Ð±Ð»Ð° (ÐµÑÐ»Ð¸ \`showCount={true}\`)
3. **ÐŸÐ¾Ð»Ðµ** - ÑÐ»Ð¾Ñ‚ Ð´Ð»Ñ input/textarea/select
4. **Ð˜ÐºÐ¾Ð½ÐºÐ°-Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ** - ÑÐ»ÐµÐ²Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»Ñ (ÐµÑÐ»Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½ \`prefixIcon\` Ð¸Ð»Ð¸ ÑÐ»Ð¾Ñ‚ \`prefix\`)
5. **Ð˜ÐºÐ¾Ð½ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸** - ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»Ñ (ÐµÑÐ»Ð¸ \`validationState\` ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½)
6. **Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐµ** - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ Ð¿Ð¾Ð»ÐµÐ¼ (ÐµÑÐ»Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½ \`error\`)
7. **Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚** - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ Ð¿Ð¾Ð»ÐµÐ¼ (ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½ \`helper\`)

### Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸

| Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|----------|----------|
| \`success\` | Ð£ÑÐ¿ÐµÑˆÐ½Ð°Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ (Ð·ÐµÐ»ÐµÐ½Ð°Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°) |
| \`error\` | ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ (ÐºÑ€Ð°ÑÐ½Ð°Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°) |
| \`""\` | ÐÐµÑ‚ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ (Ð¿ÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°) |

### ÐžÑ‚ÑÑ‚ÑƒÐ¿Ñ‹ Ð´Ð»Ñ Ð¸ÐºÐ¾Ð½Ð¾Ðº
ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ð°Ð¼Ð¸:
- ÐŸÑ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ-Ð¸ÐºÐ¾Ð½ÐºÐ¸: \`pl-11\` (padding-left)
- ÐŸÑ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸: \`pr-10\` (padding-right)

### Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
ÐŸÑ€Ð¸ \`showCount={true}\` Ð¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð¼ \`maxLength\`:
- ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ "Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ / Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ" (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, "150 / 500")
- ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð»ÐµÐ¹Ð±Ð»Ð°

## ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

### Ð¡Ð»Ð¾Ñ‚Ñ‹
- **default** - Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° (input/textarea/select)
- **prefix** - ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð°Ñ Ð¿Ñ€ÐµÑ„Ð¸ÐºÑ-Ð¸ÐºÐ¾Ð½ÐºÐ° Ð¸Ð»Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ
ÐŸÑ€Ð¸ \`required={true}\` Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ÑÑ ÐºÑ€Ð°ÑÐ½Ð°Ñ Ð·Ð²ÐµÐ·Ð´Ð¾Ñ‡ÐºÐ° (*) ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð»ÐµÐ¹Ð±Ð»Ð°.

### Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ
ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:
- Ð˜ÐºÐ¾Ð½ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»Ñ
- Ð¦Ð²ÐµÑ‚Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…/ÑƒÑÐ¿ÐµÑ…Ðµ
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑÐºÑ€Ñ‹Ñ‚Ð¸Ðµ helper Ð¿Ñ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

### Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ
ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ Ð¾Ð±ÐµÑ€Ñ‚ÐºÐ¸ Ð»ÑŽÐ±Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹ Ð²Ð²Ð¾Ð´Ð°, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ HTML ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹.
        `,
      },
    },
  },
};

export const Default = {
  render: () => ({
    components: { DXFormControl },
    setup() {
      const value = ref('');
      return { value };
    },
    template: `
      <DXFormControl label="Email">
        <input v-model="value" type="email" class="w-full rounded-xl border border-slate-200 px-4 py-3 text-sm" placeholder="Enter email" />
      </DXFormControl>
    `,
  }),
};

export const WithCounter = {
  render: () => ({
    components: { DXFormControl },
    setup() {
      const value = ref('Hello');
      return { value };
    },
    template: `
      <DXFormControl label="Bio" :max-length="100" :current-length="5" show-count>
        <textarea v-model="value" class="w-full rounded-xl border border-slate-200 px-4 py-3 text-sm" rows="3"></textarea>
      </DXFormControl>
    `,
  }),
};

export const ValidationSuccess = {
  render: () => ({
    components: { DXFormControl },
    setup() {
      const value = ref('valid@email.com');
      return { value };
    },
    template: `
      <DXFormControl label="Email" validation-state="success">
        <input v-model="value" type="email" class="w-full rounded-xl border border-emerald-300 px-4 py-3 text-sm" />
      </DXFormControl>
    `,
  }),
};

export const ValidationError = {
  render: () => ({
    components: { DXFormControl },
    setup() {
      const value = ref('invalid');
      return { value };
    },
    template: `
      <DXFormControl label="Email" validation-state="error" error="Invalid email format">
        <input v-model="value" type="email" class="w-full rounded-xl border border-rose-300 px-4 py-3 text-sm" />
      </DXFormControl>
    `,
  }),
};

