import { ref } from 'vue';
import DXModal from './DXModal.vue';
import DXButton from '../../atoms/DXButton/DXButton.vue';

export default {
  title: 'Organisms/DXModal',
  component: DXModal,
  tags: ['autodocs', 'category:overlay', 'status:ready'],
  parameters: {
    docs: {
      description: {
        component: `
**–°—Ç–∞—Ç—É—Å:** üü¢ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–µ–∂–∏–º–æ–≤.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

DXModal –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
(–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º, –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å, –ø–æ–ª–æ–≤–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ —Å–ø—Ä–∞–≤–∞), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º backdrop,
–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º —Ä–µ–∂–∏–º–æ–≤ –∏ —Å–ª–æ—Ç–∞–º–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç
- \`DXBackdrop\` - —Ñ–æ–Ω –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–∫—Ä–æ–ª–ª–∞
- \`DXCloseButton\` - –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
- \`DXHeading\` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- \`Transition\` - –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤
- –§–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –õ—é–±—ã–µ –º–µ—Å—Ç–∞, —Ç—Ä–µ–±—É—é—â–∏–µ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| \`modal\` | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π —à–∏—Ä–∏–Ω–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| \`fullscreen\` | –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º, –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω |
| \`sidebar-right\` | –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞, –≤—ã–µ–∑–∂–∞–µ—Ç —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã |
| \`half-right\` | –ü–æ–ª–æ–≤–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ —Å–ø—Ä–∞–≤–∞, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è |

### –ê–Ω–∏–º–∞—Ü–∏–∏
- **modal/fullscreen**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é \`fade-scale\` (–ø–æ—è–≤–ª–µ–Ω–∏–µ —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
- **sidebar-right/half-right**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é \`slide-right\` (–≤—ã–µ–∑–¥ —Å–ø—Ä–∞–≤–∞)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ \`open\` prop (Boolean)
- –°–æ–±—ã—Ç–∏—è: \`close\`, \`opened\`, \`closed\`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ \`update:variant\` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞

### Backdrop
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ: \`none\`, \`sm\`, \`md\`, \`lg\`, \`xl\`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (0-100)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ü–≤–µ—Ç: \`slate-900\`, \`gray-900\`, \`black\`, \`white\`
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ body (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–∞)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ backdrop (—á–µ—Ä–µ–∑ \`closable\`)

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤
–ü—Ä–∏ \`showModeSwitcher={true}\` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
- –°–æ–±—ã—Ç–∏–µ \`update:variant\` –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –°–ª–æ—Ç—ã

| –°–ª–æ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| \`default\` | –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ |
| \`title\` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–î–∏–∞–ª–æ–≥") |
| \`actions\` | –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –≤–Ω–∏–∑—É –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ |

### –®–∏—Ä–∏–Ω–∞ (–¥–ª—è modal)

| –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| \`sm\` | –ú–∞–ª–µ–Ω—å–∫–∞—è —à–∏—Ä–∏–Ω–∞ |
| \`md\` | –°—Ä–µ–¥–Ω—è—è —à–∏—Ä–∏–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| \`lg\` | –ë–æ–ª—å—à–∞—è —à–∏—Ä–∏–Ω–∞ |
| \`xl\` | –û—á–µ–Ω—å –±–æ–ª—å—à–∞—è —à–∏—Ä–∏–Ω–∞ |

### –ó–∞–∫—Ä—ã—Ç–∏–µ
- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ (–µ—Å–ª–∏ \`closable={true}\`)
- –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ backdrop (–µ—Å–ª–∏ \`closable={true}\`)
- –°–æ–±—ã—Ç–∏–µ \`close\` –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–º–µ–µ—Ç —Ç—Ä–∏ —Å–µ–∫—Ü–∏–∏:
1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫** - –∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ), –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
2. **–ö–æ–Ω—Ç–µ–Ω—Ç** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
3. **–î–µ–π—Å—Ç–≤–∏—è** - –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–æ—Ç \`actions\`)

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- **half-right**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç backdrop, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–ø—Ä–∞–≤–∞, z-index 20
- **sidebar-right**: Backdrop —Å z-index 50, –≤—ã–µ–∑–∂–∞–µ—Ç —Å–ø—Ä–∞–≤–∞
- **fullscreen**: –ó–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω, padding 8
        `,
      },
    },
  },
  argTypes: {
    variant: {
      control: 'select',
      options: ['modal', 'fullscreen', 'sidebar-right', 'half-right'],
      description: '–¢–∏–ø –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞',
    },
    width: {
      control: 'select',
      options: ['sm', 'md', 'lg', 'xl'],
      description: '–®–∏—Ä–∏–Ω–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è modal)',
    },
    closable: {
      control: 'boolean',
      description: '–ú–æ–∂–Ω–æ –ª–∏ –∑–∞–∫—Ä—ã—Ç—å',
    },
    showModeSwitcher: {
      control: 'boolean',
      description: '–ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤',
    },
  },
};

export const Default = {
  render: (args) => ({
    components: { DXModal, DXButton },
    setup() {
      const open = ref(false);
      return { args, open };
    },
    template: `
      <div>
        <DXButton @click="open = true">–û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª</DXButton>
        <DXModal v-bind="args" :open="open" @close="open = false">
          <template #title>–ó–∞–≥–æ–ª–æ–≤–æ–∫</template>
          <p>–ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞. –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.</p>
          <template #actions>
            <DXButton variant="ghost" @click="open = false">–û—Ç–º–µ–Ω–∞</DXButton>
            <DXButton @click="open = false">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</DXButton>
          </template>
        </DXModal>
      </div>
    `,
  }),
};

export const Sidebar = {
  args: {
    variant: 'sidebar-right',
  },
  render: (args) => ({
    components: { DXModal, DXButton },
    setup() {
      const open = ref(false);
      return { args, open };
    },
    template: `
      <div>
        <DXButton @click="open = true">–û—Ç–∫—Ä—ã—Ç—å —Å–∞–π–¥–±–∞—Ä</DXButton>
        <DXModal v-bind="args" :open="open" @close="open = false">
          <template #title>–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å</template>
          <div class="space-y-4">
            <p>–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ñ–æ—Ä–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
            <p>–ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –¥–ª–∏–Ω—ã.</p>
          </div>
          <template #actions>
            <DXButton variant="ghost" @click="open = false">–ó–∞–∫—Ä—ã—Ç—å</DXButton>
          </template>
        </DXModal>
      </div>
    `,
  }),
};

export const Fullscreen = {
  args: {
    variant: 'fullscreen',
  },
  render: (args) => ({
    components: { DXModal, DXButton },
    setup() {
      const open = ref(false);
      return { args, open };
    },
    template: `
      <div>
        <DXButton @click="open = true">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω</DXButton>
        <DXModal v-bind="args" :open="open" @close="open = false">
          <template #title>–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º</template>
          <p>–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω.</p>
          <template #actions>
            <DXButton @click="open = false">–ó–∞–∫—Ä—ã—Ç—å</DXButton>
          </template>
        </DXModal>
      </div>
    `,
  }),
};

export const WithModeSwitcher = {
  args: {
    showModeSwitcher: true,
  },
  render: (args) => ({
    components: { DXModal, DXButton },
    setup() {
      const open = ref(false);
      const variant = ref('modal');
      return { args, open, variant };
    },
    template: `
      <div>
        <DXButton @click="open = true">–û—Ç–∫—Ä—ã—Ç—å —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º</DXButton>
        <DXModal 
          v-bind="args" 
          :open="open" 
          :variant="variant"
          @close="open = false"
          @update:variant="variant = $event"
        >
          <template #title>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤</template>
          <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞ –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–ª—è —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
          <template #actions>
            <DXButton @click="open = false">–ó–∞–∫—Ä—ã—Ç—å</DXButton>
          </template>
        </DXModal>
      </div>
    `,
  }),
};

