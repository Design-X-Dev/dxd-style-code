import{r as I,c as r,a as d,o,p as w,F as L,G as S,q as u,z as X,A as C,B as F,d as y,f as g}from"./vue.esm-bundler-C1fUoNF-.js";import{u as c}from"./useClassComposition-Dym2pzZ_.js";import{r as R}from"./HeartIcon-DNFEd_wb.js";import{r as A}from"./StarIcon-D8S068nZ.js";import{r as K}from"./HeartIcon-DEmfWIR9.js";import{r as j}from"./StarIcon-BfBLtMMD.js";const G=["data-size","data-readonly","data-symbol","data-color","aria-label"],P=["disabled","aria-label","aria-checked","onClick","onMouseenter","onKeydown"],q={__name:"DXRating",props:{modelValue:{type:Number,default:0},max:{type:Number,default:5},readonly:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},symbol:{type:String,default:"star",validator:a=>["star","heart","number"].includes(a)},color:{type:String,default:"yellow",validator:a=>["yellow","red","blue","green","purple"].includes(a)},size:{type:String,default:"md",validator:a=>["xs","sm","md","lg","xl"].includes(a)},count:{type:Number,default:null},ariaLabel:{type:String,default:null}},emits:["update:modelValue","change"],setup(a,{emit:k}){const l=a,b=k,s=I(0),z=r(()=>l.symbol==="heart"?R:A),V=r(()=>l.symbol==="heart"?K:j),M=r(()=>c("inline-flex items-center gap-1"));function D(e){const n=x(e),t=s.value>=e;return s.value||l.modelValue,c("relative inline-flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 rounded",{"cursor-pointer":!l.readonly,"cursor-default":l.readonly,[i.value.active]:n||t,[i.value.inactive]:!n&&!t,[f.value]:!0})}function h(e){return c(f.value,{[i.value.active]:m(e),[i.value.inactive]:!m(e)})}function $(e){return c(f.value,i.value.active,"absolute left-0 top-0 overflow-hidden")}const H=r(()=>{const e={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return c(e[l.size]||e.md,"text-slate-500 ml-1")}),f=r(()=>{const e={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};return{value:e[l.size]||e.md}}),i=r(()=>{const e={yellow:{active:"text-yellow-400",inactive:"text-slate-300"},red:{active:"text-rose-500",inactive:"text-slate-300"},blue:{active:"text-blue-500",inactive:"text-slate-300"},green:{active:"text-green-500",inactive:"text-slate-300"},purple:{active:"text-purple-500",inactive:"text-slate-300"}};return e[l.color]||e.yellow});function x(e){return(s.value||l.modelValue)>=e}function m(e){const n=s.value||l.modelValue;return Math.floor(n)>=e}function N(e){if(!l.allowHalf)return!1;const n=s.value||l.modelValue;return Math.floor(n)===e-1&&n%1>=.5}function v(e){if(l.readonly)return;let n=e;l.allowHalf&&l.modelValue===e&&(n=e-.5),b("update:modelValue",n),b("change",n)}function B(e){l.readonly||(s.value=e)}function E(){l.readonly||(s.value=0)}return(e,n)=>(o(),d("div",{class:u(M.value),"data-component":"DXRating","data-size":a.size,"data-readonly":a.readonly,"data-symbol":a.symbol,"data-color":a.color,role:"radiogroup","aria-label":a.ariaLabel||"Рейтинг"},[(o(!0),d(L,null,S(a.max,t=>(o(),d("button",{key:t,type:"button",class:u(D(t)),disabled:a.readonly,"aria-label":`Оценка ${t} из ${a.max}`,"aria-checked":x(t),role:"radio",tabindex:"0",onClick:p=>v(t),onMouseenter:p=>B(t),onMouseleave:E,onKeydown:[C(p=>v(t),["enter"]),C(F(p=>v(t),["prevent"]),["space"])]},[m(t)?(o(),y(g(V.value),{key:0,class:u(h(t))},null,8,["class"])):(o(),y(g(z.value),{key:1,class:u(h(t))},null,8,["class"])),a.allowHalf&&N(t)?(o(),y(g(V.value),{key:2,class:u($())},null,8,["class"])):w("",!0)],42,P))),128)),a.count?(o(),d("span",{key:0,class:u(H.value)}," ("+X(a.count)+") ",3)):w("",!0)],10,G))}};q.__docgenInfo={exportName:"default",displayName:"DXRating",description:"",tags:{},props:[{name:"modelValue",description:`Значение рейтинга (v-model)
Может быть целым числом или дробным (например, 4.5)`,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",description:"Максимальное значение рейтинга",tags:{default:[{description:"5",title:"default"}]},type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"readonly",description:"Только для чтения (не интерактивный)",tags:{default:[{description:"false",title:"default"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"allowHalf",description:"Разрешить половину значения (например, 4.5)",tags:{default:[{description:"false",title:"default"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"symbol",description:"Символ для отображения: star | heart | number",tags:{default:[{description:"'star'",title:"default"}]},type:{name:"string"},defaultValue:{func:!1,value:'"star"'},values:["star","heart","number"]},{name:"color",description:"Цвет: yellow | red | blue | green | purple",tags:{default:[{description:"'yellow'",title:"default"}]},type:{name:"string"},defaultValue:{func:!1,value:'"yellow"'},values:["yellow","red","blue","green","purple"]},{name:"size",description:"Размер: xs | sm | md | lg | xl",tags:{default:[{description:"'md'",title:"default"}]},type:{name:"string"},defaultValue:{func:!1,value:'"md"'},values:["xs","sm","md","lg","xl"]},{name:"count",description:"Количество оценок для отображения",type:{name:"number"},defaultValue:{func:!1,value:"null"}},{name:"ariaLabel",description:"Кастомный aria-label",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:modelValue"},{name:"change"}],sourceFiles:["/Users/lea_alex/Projects/1_DEVELOP/0_DESIGN_X_DEV/dxd-style-code/src/components/molecules/DXRating/DXRating.vue"]};export{q as _};
