import{a as o,o as n,b as s,c as i,e as u,g as f,f as v,T as M,k as d,s as V,l as m,m as p,x as B,F as S,D,p as L}from"./vue.esm-bundler-CzLKT_w4.js";import{_ as N}from"./DXBackdrop-CRxYx67P.js";import{_ as j}from"./DXCloseButton-Cjo_FBNn.js";import{_ as O}from"./DXHeading-DwWVK5ab.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as z}from"./Squares2X2Icon-q8K6JZ8n.js";import{r as E}from"./ViewColumnsIcon-DiU4uUWi.js";function F(e,c){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})])}function I(e,c){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z"})])}const T=["data-variant"],Z={class:"flex items-center justify-between flex-shrink-0 mb-4 gap-4"},A={key:0,class:"flex items-center gap-1 rounded-xl border border-slate-200 bg-slate-50 p-1"},P=["title","onClick"],G={class:"text-slate-700 overflow-y-auto flex-1 min-h-0"},U={key:0,class:"flex justify-end gap-2 flex-shrink-0 mt-4 pt-4 border-t border-slate-200"},h={__name:"DXModal",props:{open:{type:Boolean,default:!1},variant:{type:String,default:"modal"},width:{type:String,default:"md"},closable:{type:Boolean,default:!0},showModeSwitcher:{type:Boolean,default:!1},backdropBlur:{type:String,default:"sm",validator:e=>["none","sm","md","lg","xl"].includes(e)},backdropOpacity:{type:[String,Number],default:"40"},backdropColor:{type:String,default:"slate-900"},backdropLockScroll:{type:Boolean,default:!0}},emits:["close","opened","closed","update:variant"],setup(e,{emit:c}){const r=e,b=c,g=[{value:"modal",label:"Модальное окно",icon:z},{value:"fullscreen",label:"На весь экран",icon:F},{value:"sidebar-right",label:"Боковая панель",icon:E},{value:"half-right",label:"Половина справа",icon:I}],w=t=>{b("update:variant",t)},k=i(()=>{switch(r.variant){case"sidebar-right":case"half-right":return"slide-right";default:return"fade-scale"}}),x=i(()=>{switch(r.variant){case"fullscreen":return"fixed inset-0 flex items-center justify-center p-0";case"sidebar-right":return"fixed inset-0 flex items-end justify-end";case"half-right":return"fixed top-[73px] bottom-0 right-0 z-20 flex w-1/2 pointer-events-none";default:return"fixed inset-0 flex items-center justify-center px-4 py-4 overflow-y-auto"}}),y=i(()=>{const t="bg-white shadow-2xl flex flex-col";switch(r.variant){case"fullscreen":return`${t} w-full h-full p-8`;case"sidebar-right":return`${t} h-full w-full max-w-md p-6 border-l border-slate-200`;case"half-right":return`${t} h-full w-full p-6 border-l border-slate-200 pointer-events-auto`;default:return`${t} rounded-2xl w-full max-h-[90vh] p-6 my-auto ${$.value}`}}),$=i(()=>{if(r.variant!=="modal")return"";switch(r.width){case"sm":return"max-w-md";case"lg":return"max-w-3xl";case"xl":return"max-w-5xl";default:return"max-w-xl"}}),C=i(()=>{if(["0","5","10","20","30","40","50","60","70","80","90","95","100"].includes(String(r.backdropOpacity)))return`bg-${r.backdropColor}/${r.backdropOpacity}`;const a={"slate-900":"rgb(15 23 42","gray-900":"rgb(17 24 39",black:"rgb(0 0 0",white:"rgb(255 255 255"};return`${a[r.backdropColor]||a["slate-900"]} / ${r.backdropOpacity}%)`});return(t,a)=>(n(),u(N,{show:e.open&&e.variant!=="half-right",blur:e.backdropBlur,"background-color":C.value,"z-index":e.variant==="half-right"?"20":"50","lock-scroll":e.backdropLockScroll,dismissible:e.closable&&e.variant!=="half-right",onClose:a[4]||(a[4]=l=>t.$emit("close"))},{default:f(()=>[v(M,{name:k.value,onAfterEnter:a[2]||(a[2]=l=>t.$emit("opened")),onAfterLeave:a[3]||(a[3]=l=>t.$emit("closed"))},{default:f(()=>[e.open?(n(),o("div",{key:0,class:m(x.value),onClick:a[1]||(a[1]=V(l=>e.closable&&t.$emit("close"),["self"])),"data-component":"DXModal","data-variant":e.variant},[s("div",{class:m(y.value)},[s("div",Z,[v(O,{level:"3",size:"lg",weight:"semibold",color:"default",class:"flex-1"},{default:f(()=>[p(t.$slots,"title",{},()=>[a[5]||(a[5]=B("Диалог",-1))],!0)]),_:3}),e.showModeSwitcher?(n(),o("div",A,[(n(),o(S,null,D(g,l=>s("button",{key:l.value,type:"button",class:m(["rounded-lg p-1.5 transition-colors",e.variant===l.value?"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600 hover:bg-white/50"]),title:l.label,onClick:W=>w(l.value)},[(n(),u(L(l.icon),{class:"h-4 w-4"}))],10,P)),64))])):d("",!0),e.closable?(n(),u(j,{key:1,size:"md",variant:"default",onClick:a[0]||(a[0]=l=>t.$emit("close"))})):d("",!0)]),s("div",G,[p(t.$slots,"default",{},void 0,!0)]),t.$slots.actions?(n(),o("div",U,[p(t.$slots,"actions",{},void 0,!0)])):d("",!0)],2)],10,T)):d("",!0)]),_:3},8,["name"])]),_:3},8,["show","blur","background-color","z-index","lock-scroll","dismissible"]))}},_=X(h,[["__scopeId","data-v-08ee4427"]]);h.__docgenInfo={exportName:"default",displayName:"DXModal",description:"",tags:{},props:[{name:"open",description:"Открыто/закрыто",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"variant",description:"Вариант: modal | fullscreen | sidebar-right | half-right",type:{name:"string"},defaultValue:{func:!1,value:'"modal"'}},{name:"width",description:"Ширина (для modal): sm | md | lg | xl",type:{name:"string"},defaultValue:{func:!1,value:'"md"'}},{name:"closable",description:"Можно ли закрыть",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showModeSwitcher",description:"Показывать переключатель режимов",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"backdropBlur",description:"Размытие backdrop: none | sm | md | lg | xl",type:{name:"string"},defaultValue:{func:!1,value:"'sm'"},values:["none","sm","md","lg","xl"]},{name:"backdropOpacity",description:"Прозрачность backdrop: 0-100",type:{name:"string|number"},defaultValue:{func:!1,value:"'40'"}},{name:"backdropColor",description:"Цвет backdrop: slate-900 | gray-900 | black | white",type:{name:"string"},defaultValue:{func:!1,value:"'slate-900'"}},{name:"backdropLockScroll",description:"Блокировать скролл body",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"close"},{name:"opened"},{name:"closed"},{name:"update:variant"}],slots:[{name:"title"},{name:"default"},{name:"actions"}],sourceFiles:["/Users/lea_alex/Projects/1_DEVELOP/0_DESIGN_X_DEV/dxd-style-code/src/components/organisms/DXModal/DXModal.vue"]};export{_ as D};
