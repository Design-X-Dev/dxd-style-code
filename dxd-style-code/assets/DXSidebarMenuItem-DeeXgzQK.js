import{r as S,c as x,s as q,E as P,t as F,a as v,o as i,d as o,e as c,F as L,G as N,U as O,y as h,z as m,j,p as u,b,q as d,f as E,x as $,H as A,Q as G,n as Q,k as U,T as H}from"./vue.esm-bundler-C1fUoNF-.js";import{c as J}from"./useAnimation-ByVAdqmf.js";import{_ as z}from"./DXBadge-Cnl9-G8k.js";import{_ as D}from"./DXIcon-Bc0cQL8C.js";import{D as K}from"./DXDropdown-DAfwPhYF.js";import{_ as W}from"./DXDropdownItem-sgbg46Q-.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as Z}from"./ChevronDownIcon-DF-4rgxU.js";function ve(e,k){const g=S(""),a=S(e.compact),y=x(()=>a.value);let r=!1;q(()=>{try{r=!!(window!=null&&window.$router)||!1}catch{r=!1}}),P("hasRouter",r);const C=x(()=>{if(!g.value.trim())return e.sections;const s=g.value.toLowerCase();return e.sections.map(l=>({...l,items:l.items.filter(w=>{var n,V;const p=(n=w.label)==null?void 0:n.toLowerCase().includes(s),I=(V=w.children)==null?void 0:V.some(t=>{var f;return(f=t.label)==null?void 0:f.toLowerCase().includes(s)});return p||I})})).filter(l=>l.items.length>0)});return{searchQuery:g,internalCompact:a,compact:y,filteredSections:C,isItemActive:s=>e.activeItem?s.to===e.activeItem||s.id===e.activeItem?!0:s.children?s.children.some(l=>l.to===e.activeItem||l.id===e.activeItem):!1:!1,toggleCompact:()=>{a.value=!a.value,k("update:compact",a.value)},handleItemClick:(s,l)=>{k("item-click",s,l)},hasRouter:r}}const _={"data-component":"DXSidebarMenuItem"},ee={class:"text-sm font-medium"},te={key:2},ae={class:"flex items-center gap-3 flex-1"},ne={key:1,class:"flex-1 text-sm font-medium text-left"},ie={class:"overflow-hidden"},se={class:"pl-11 py-1 space-y-1"},R={__name:"DXSidebarMenuItem",props:{item:{type:Object,required:!0},active:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1}},emits:["click","child-click"],setup(e,{emit:k}){const g=J("collapse"),a=e,y=k,r=S(!1),C=F("hasRouter",!1),M=()=>{r.value=!r.value},X=x(()=>a.item.to&&C?"router-link":a.item.href?"a":"button"),B=n=>n.to&&C?"router-link":n.href?"a":"button",s=x(()=>{const n="flex items-center transition-all duration-200 text-left";return a.horizontal?[n,"gap-2 px-3 py-2 rounded-lg whitespace-nowrap",a.active?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900",a.item.disabled&&"opacity-50 cursor-not-allowed"]:[n,"w-full gap-3 px-4 py-2.5 rounded-xl",a.active?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900",a.item.disabled&&"opacity-50 cursor-not-allowed",a.compact&&"justify-center px-2"]}),l=x(()=>["flex-shrink-0",a.active?"text-white":"text-slate-400"]),w=n=>["w-full flex items-center px-3 py-2 text-sm rounded-lg transition-colors text-left",n.active?"bg-slate-100 text-slate-900 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"],p=n=>{if(a.item.disabled){n.preventDefault();return}y("click",a.item,n)},I=n=>{n.disabled||y("child-click",n)};return(n,V)=>(i(),v("div",_,[e.horizontal&&e.item.children?(i(),o(K,{key:0,position:"bottom",width:"auto"},{trigger:c(()=>[e.item.icon?(i(),o(D,{key:0,icon:e.item.icon,size:"md",animation:"scale",class:d(l.value)},null,8,["icon","class"])):u("",!0),b("span",ee,m(e.item.label),1),e.item.badge?(i(),o(z,{key:1,variant:e.item.badgeVariant||"info",size:"sm",class:"ml-2"},{default:c(()=>[h(m(e.item.badge),1)]),_:1},8,["variant"])):u("",!0)]),default:c(()=>[(i(!0),v(L,null,N(e.item.children,(t,f)=>(i(),o(W,{key:f,icon:t.icon,onClick:T=>I(t)},O({default:c(()=>[h(m(t.label)+" ",1)]),_:2},[t.badge?{name:"badge",fn:c(()=>[j(z,{variant:t.badgeVariant||"info",size:"sm"},{default:c(()=>[h(m(t.badge),1)]),_:2},1032,["variant"])]),key:"0"}:void 0]),1032,["icon","onClick"]))),128))]),_:1})):e.item.children?(i(),v("div",te,[b("button",{type:"button",class:d(s.value),onClick:M},[b("div",ae,[e.item.icon?(i(),o(D,{key:0,icon:e.item.icon,size:"md",animation:"scale",class:d(l.value)},null,8,["icon","class"])):u("",!0),e.compact?u("",!0):(i(),v("span",ne,m(e.item.label),1))]),e.compact?u("",!0):(i(),o(D,{key:0,icon:$(Z),size:"sm",animation:"none",class:d(["text-slate-400 transition-transform duration-200",{"rotate-180":r.value}])},null,8,["icon","class"]))],2),j(H,Q(U($(g))),{default:c(()=>[A(b("div",ie,[b("div",se,[(i(!0),v(L,null,N(e.item.children,(t,f)=>(i(),o(E(B(t)),{key:f,to:t.to,href:t.href,class:d(w(t)),onClick:T=>I(t)},{default:c(()=>[h(m(t.label)+" ",1),t.badge?(i(),o(z,{key:0,variant:t.badgeVariant||"info",size:"sm",class:"ml-auto"},{default:c(()=>[h(m(t.badge),1)]),_:2},1032,["variant"])):u("",!0)]),_:2},1032,["to","href","class","onClick"]))),128))])],512),[[G,r.value&&!e.compact]])]),_:1},16)])):(i(),o(E(X.value),{key:1,to:e.item.to,href:e.item.href,class:d(s.value),onClick:p},{default:c(()=>[b("div",{class:d(["flex items-center flex-1",e.horizontal?"gap-2":"gap-3"])},[e.item.icon?(i(),o(D,{key:0,icon:e.item.icon,size:"md",animation:"scale",class:d(l.value)},null,8,["icon","class"])):u("",!0),e.compact?u("",!0):(i(),v("span",{key:1,class:d(["flex-1 font-medium text-left",(e.horizontal,"text-sm")])},m(e.item.label),3))],2),e.item.badge&&!e.compact?(i(),o(z,{key:0,variant:e.item.badgeVariant||"info",size:"sm"},{default:c(()=>[h(m(e.item.badge),1)]),_:1},8,["variant"])):u("",!0)]),_:1},8,["to","href","class"]))]))}},he=Y(R,[["__scopeId","data-v-4458584f"]]);R.__docgenInfo={exportName:"default",displayName:"DXSidebarMenuItem",description:"",tags:{},props:[{name:"item",type:{name:"object"},required:!0},{name:"active",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"compact",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"horizontal",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"click"},{name:"child-click"}],sourceFiles:["/Users/lea_alex/Projects/1_DEVELOP/0_DESIGN_X_DEV/dxd-style-code/src/components/organisms/DXSidebarMenu/DXSidebarMenuItem.vue"]};export{he as D,ve as u};
