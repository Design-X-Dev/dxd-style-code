import{r as N,c as i,w as B,d as g,o as l,e as f,q as s,a as d,p as u,b as c,g as m,y,z as C,D as E,j as b,F as I,G as F}from"./vue.esm-bundler-C1fUoNF-.js";import{u as r}from"./useClassComposition-Dym2pzZ_.js";import{_ as L}from"./DXCard-CLY4ojX0.js";import{_ as O}from"./DXSelect-CgmhnMxb.js";import{_ as P}from"./DXHeading-S6mljWwV.js";import{_ as V}from"./DXText-Bu-Qlv6N.js";const A={class:"flex items-center gap-2"},G={class:"flex items-center justify-center h-full text-slate-400"},U={class:"flex flex-wrap items-center gap-4"},q=["onClick"],H={__name:"DXChartContainer",props:{type:{type:String,default:"line"},data:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},title:{type:String,default:""},legend:{type:Boolean,default:!0},legendData:{type:Array,default:()=>[]},controls:{type:Boolean,default:!1},chartTypes:{type:Array,default:()=>[]},height:{type:String,default:"400px"},cardVariant:{type:String,default:"default",validator:e=>["default","bordered","elevated","flat"].includes(e)},padding:{type:String,default:"md",validator:e=>["none","xs","sm","md","lg","xl"].includes(e)}},emits:["export","legend-toggle","chart-type-change"],setup(e,{emit:D}){const n=e,v=D,p=N(n.type),x=i(()=>r("w-full")),$=i(()=>r("mb-4")),k=i(()=>r("mb-4 flex items-center justify-end gap-2")),S=i(()=>r("w-full relative")),j=i(()=>({height:n.height,minHeight:n.height})),w=i(()=>r("mt-4 pt-4 border-t border-slate-200")),T=i(()=>r("flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity"));function X(a){if(n.legendData&&n.legendData[a]){const t=n.legendData[a];t.visible=!t.visible,v("legend-toggle",{index:a,item:t,visible:t.visible})}}function z(a){v("chart-type-change",a)}return B(()=>n.type,a=>{p.value=a}),(a,t)=>(l(),g(L,{class:s(x.value),variant:e.cardVariant,padding:e.padding,"data-component":"DXChartContainer","data-type":e.type},{default:f(()=>[e.title||a.$slots.header?(l(),d("div",{key:0,class:s($.value)},[m(a.$slots,"header",{},()=>[e.title?(l(),g(P,{key:0,level:"3",size:"lg",weight:"semibold",color:"default"},{default:f(()=>[y(C(e.title),1)]),_:1})):u("",!0)])],2)):u("",!0),e.controls||a.$slots.controls?(l(),d("div",{key:1,class:s(k.value)},[m(a.$slots,"controls",{},()=>[c("div",A,[e.chartTypes&&e.chartTypes.length>0?(l(),g(O,{key:0,modelValue:p.value,"onUpdate:modelValue":[t[0]||(t[0]=o=>p.value=o),z],options:e.chartTypes,size:"sm"},null,8,["modelValue","options"])):u("",!0)])])],2)):u("",!0),c("div",{class:s(S.value),style:E(j.value)},[m(a.$slots,"chart",{},()=>[c("div",G,[b(V,{tag:"p",size:"sm"},{default:f(()=>[...t[1]||(t[1]=[y('Используйте slot "chart" для вашей библиотеки графиков',-1)])]),_:1})])])],6),e.legend&&(e.legendData||a.$slots.legend)?(l(),d("div",{key:2,class:s(w.value)},[m(a.$slots,"legend",{},()=>[c("div",U,[(l(!0),d(I,null,F(e.legendData,(o,h)=>(l(),d("div",{key:h,class:s(T.value),onClick:_=>X(h)},[c("div",{class:s(["w-3 h-3 rounded-full",o.color||"bg-slate-400",{"opacity-50":!o.visible}])},null,2),b(V,{tag:"span",size:"sm",color:"default",class:s([{"line-through opacity-50":!o.visible}])},{default:f(()=>[y(C(o.label),1)]),_:2},1032,["class"])],10,q))),128))])])],2)):u("",!0)]),_:3},8,["class","variant","padding","data-type"]))}};H.__docgenInfo={exportName:"default",displayName:"DXChartContainer",description:"",tags:{},props:[{name:"type",description:"Тип графика (для информации, не влияет на рендеринг)",type:{name:"string"},defaultValue:{func:!1,value:'"line"'}},{name:"data",description:"Данные графика (передаются в slot для использования библиотекой)",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"options",description:"Опции графика (передаются в slot для использования библиотекой)",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"title",description:"Заголовок графика",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"legend",description:"Показывать легенду",tags:{default:[{description:"true",title:"default"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"legendData",description:`Данные легенды
Формат: [{ label, color, visible }]`,type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"controls",description:"Показывать контролы",tags:{default:[{description:"false",title:"default"}]},type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"chartTypes",description:`Типы графиков для селекта
Формат: [{ value, label }]`,type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"height",description:"Высота графика",type:{name:"string"},defaultValue:{func:!1,value:'"400px"'}},{name:"cardVariant",description:"Вариант DXCard",tags:{default:[{description:"'default'",title:"default"}]},type:{name:"string"},defaultValue:{func:!1,value:'"default"'},values:["default","bordered","elevated","flat"]},{name:"padding",description:"Padding для DXCard",tags:{default:[{description:"'md'",title:"default"}]},type:{name:"string"},defaultValue:{func:!1,value:'"md"'},values:["none","xs","sm","md","lg","xl"]}],events:[{name:"export"},{name:"legend-toggle"},{name:"chart-type-change"}],slots:[{name:"header"},{name:"controls"},{name:"chart"},{name:"legend"}],sourceFiles:["/Users/lea_alex/Projects/1_DEVELOP/0_DESIGN_X_DEV/dxd-style-code/src/components/organisms/DXChartContainer/DXChartContainer.vue"]};export{H as _};
